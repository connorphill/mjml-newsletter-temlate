{"version":3,"sources":["../../src/components/Image.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAmBM,gBAZL,iCAAkB;AACjB,WAAS,UAAT;AACA,cAAY;AACV,cAAU,MAAV;AACA,eAAW,WAAX;AACA,aAAS,QAAT;AACA,WAAO,EAAP;AACA,cAAU,MAAV;AACA,YAAQ,EAAR;AACA,WAAO,EAAP;GAPF;CAFD;YAYK;;;;;;;;;;sCAgBc;mBACoB,KAAK,KAAL,CADpB;UACR,iCADQ;UACK,+BADL;;AAEhB,UAAM,QAAQ,iBAAE,GAAF,CAAM,CAAC,SAAS,YAAY,OAAZ,CAAT,CAAD,EAAiC,SAAS,YAAY,aAAZ,CAAT,CAAjC,CAAN,CAAR,CAFU;;AAIhB,UAAM,eAAe,WAAW,OAAX,CAAf,CAJU;AAKhB,UAAM,cAAc,WAAW,MAAX,CAAd,CALU;AAMhB,UAAM,gBAAgB,cAAc,YAAd,GAA6B,KAA7B,GAAqC,SAAS,YAAY,aAAZ,CAAT,CAArC,CANN;;AAQhB,aAAO,gBAAgB,CAAhB,GAAoB,QAAQ,aAAR,GAAwB,KAA5C,CARS;;;;gCAWN;UACF,cAAgB,KAAK,KAAL,CAAhB,YADE;;AAGV,aAAO,iBAAE,KAAF,CAAQ,EAAR,EAAY,KAAK,WAAL,CAAiB,UAAjB,EAA6B;AAC9C,aAAK;AACH,kBAAQ,YAAY,QAAZ,CAAR;AACA,oBAAU,KAAK,eAAL,EAAV;AACA,kBAAQ,YAAY,QAAZ,CAAR;SAHF;OADK,CAAP,CAHU;;;;kCAYE;UACJ,cAAgB,KAAK,KAAL,CAAhB,YADI;;AAGZ,UAAM,MACJ;AACE,aAAK,YAAY,KAAZ,CAAL;AACA,gBAAO,GAAP;AACA,aAAK,YAAY,KAAZ,CAAL;AACA,eAAO,KAAK,MAAL,CAAY,GAAZ;AACP,eAAO,KAAK,MAAL,CAAY,GAAZ,CAAgB,QAAhB;AACP,gBAAQ,KAAK,MAAL,CAAY,GAAZ,CAAgB,MAAhB,EANV,CADI,CAHM;;AAaZ,UAAI,YAAY,MAAZ,KAAuB,EAAvB,EAA2B;AAC7B,eACE;;YAAG,MAAM,YAAY,MAAZ,CAAN,EAAH;UACG,GADH;SADF,CAD6B;OAA/B,MAOK;AACH,eAAO,GAAP,CADG;OAPL;;;;6BAYO;UACC,cAAgB,KAAK,KAAL,CAAhB,YADD;;AAGP,WAAK,MAAL,GAAc,KAAK,SAAL,EAAd,CAHO;;AAKP,aACE;;;AACE,kBAAO,GAAP;AACA,uBAAY,GAAZ;AACA,uBAAY,GAAZ;AACA,+BAAmB,YAAY,OAAZ,CAAnB;AACA,iBAAO,KAAK,MAAL,CAAY,KAAZ,EALT;QAME;;;UACE;;;YACE;;;cACG,KAAK,WAAL,EADH;aADF;WADF;SANF;OADF,CALO;;;;SAhEL;6BAEG,aAAa;AAClB,SAAO;AACL,oBAAgB,UAAhB;AACA,mBAAe,GAAf;GAFF;AAIA,OAAK;AACH,YAAQ,MAAR;AACA,aAAS,OAAT;AACA,aAAS,MAAT;AACA,oBAAgB,MAAhB;AACA,WAAO,MAAP;GALF;;kBAkFW","file":"Image.js","sourcesContent":["import MJMLColumnElement from './decorators/MJMLColumnElement'\nimport React, { Component } from 'react'\nimport _ from 'lodash'\n\n/**\n * Displays an image to your email. It is mostly similar to the HTML img tag\n */\n@MJMLColumnElement({\n  tagName: 'mj-image',\n  attributes: {\n    'height': 'auto',\n    'padding': '10px 25px',\n    'align': 'center',\n    'alt': '',\n    'border': 'none',\n    'href': '',\n    'src': ''\n  }\n})\nclass Image extends Component {\n\n  static baseStyles = {\n    table: {\n      borderCollapse: 'collapse',\n      borderSpacing: '0'\n    },\n    img: {\n      border: 'none',\n      display: 'block',\n      outline: 'none',\n      textDecoration: 'none',\n      width: \"100%\"\n    }\n  };\n\n  getContentWidth() {\n    const { mjAttribute, getPadding } = this.props\n    const width = _.min([parseInt(mjAttribute('width')), parseInt(mjAttribute('parentWidth'))])\n\n    const paddingRight = getPadding('right')\n    const paddingLeft = getPadding('left')\n    const widthOverflow = paddingLeft + paddingRight + width - parseInt(mjAttribute('parentWidth'))\n\n    return widthOverflow > 0 ? width - widthOverflow : width\n  }\n\n  getStyles() {\n    const { mjAttribute } = this.props\n\n    return _.merge({}, this.constructor.baseStyles, {\n      img: {\n        border: mjAttribute('border'),\n        maxWidth: this.getContentWidth(),\n        height: mjAttribute('height')\n      }\n    })\n  }\n\n  renderImage() {\n    const { mjAttribute } = this.props\n\n    const img = (\n      <img\n        alt={mjAttribute('alt')}\n        border=\"0\"\n        src={mjAttribute('src')}\n        style={this.styles.img}\n        width={this.styles.img.maxWidth}\n        height={this.styles.img.height} />\n    )\n\n    if (mjAttribute('href') != '') {\n      return (\n        <a href={mjAttribute('href')}>\n          {img}\n        </a>\n      )\n    }\n    else {\n      return img\n    }\n  }\n\n  render() {\n    const { mjAttribute } = this.props\n\n    this.styles = this.getStyles()\n\n    return (\n      <table\n        border=\"0\"\n        cellPadding=\"0\"\n        cellSpacing=\"0\"\n        data-legacy-align={mjAttribute('align')}\n        style={this.styles.table}>\n        <tbody>\n          <tr>\n            <td>\n              {this.renderImage()}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    )\n  }\n\n}\n\nexport default Image\n"]}